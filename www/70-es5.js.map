{"version":3,"sources":["webpack:///node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js"],"names":["Tab","hostRef","loaded","active","prepareLazyLoaded","component","delegate","el","console","error","undefined","tab","hostData","__stencil_render","Tabs","transitioning","tabs","useRouter","onTabClicked","ev","detail","href","selectedTab","find","t","router","document","querySelector","push","select","ionNavWillLoad","ionTabsWillChange","ionTabsDidChange","closest","Array","from","querySelectorAll","initSelect","then","emit","componentWillUpdate","length","leavingTab","tabBar","getTab","shouldSwitch","setActive","notifyRouter","tabSwitch","tabEl","Promise","resolve","id","changed","element","markVisible","tabId","all","map","componentOnReady","reject","navChanged","onIonTabButtonClick","name"],"mappings":"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","file":"70-es5.js","sourcesContent":["import { r as registerInstance, h, e as getElement, H as Host, c as createEvent } from './chunk-84f6bf13.js';\nimport './chunk-1074393c.js';\nimport { a as attachComponent } from './chunk-00265c49.js';\n\nclass Tab {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.loaded = false;\n        /** @internal */\n        this.active = false;\n    }\n    componentWillLoad() {\n    }\n    /** Set the active component for the tab */\n    async setActive() {\n        await this.prepareLazyLoaded();\n        this.active = true;\n    }\n    async prepareLazyLoaded() {\n        if (!this.loaded && this.component != null) {\n            this.loaded = true;\n            try {\n                return attachComponent(this.delegate, this.el, this.component, ['ion-page']);\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n        return undefined;\n    }\n    hostData() {\n        const { tab, active, component } = this;\n        return {\n            'role': 'tabpanel',\n            'aria-hidden': !active ? 'true' : null,\n            'aria-labelledby': `tab-button-${tab}`,\n            'class': {\n                'ion-page': component === undefined,\n                'tab-hidden': !active\n            }\n        };\n    }\n    __stencil_render() {\n        return h(\"slot\", null);\n    }\n    get el() { return getElement(this); }\n    render() { return h(Host, this.hostData(), this.__stencil_render()); }\n    static get style() { return \":host(.tab-hidden){display:none!important}\"; }\n}\n\n/**\n * @slot - Content is placed between the named slots if provided without a slot.\n * @slot top - Content is placed at the top of the screen.\n * @slot bottom - Content is placed at the bottom of the screen.\n */\nclass Tabs {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.transitioning = false;\n        this.tabs = [];\n        /** @internal */\n        this.useRouter = false;\n        this.onTabClicked = (ev) => {\n            const { href, tab } = ev.detail;\n            const selectedTab = this.tabs.find(t => t.tab === tab);\n            if (this.useRouter && href !== undefined) {\n                const router = document.querySelector('ion-router');\n                if (router) {\n                    router.push(href);\n                }\n            }\n            else if (selectedTab) {\n                this.select(selectedTab);\n            }\n        };\n        this.ionNavWillLoad = createEvent(this, \"ionNavWillLoad\", 7);\n        this.ionTabsWillChange = createEvent(this, \"ionTabsWillChange\", 3);\n        this.ionTabsDidChange = createEvent(this, \"ionTabsDidChange\", 3);\n    }\n    componentWillLoad() {\n        if (!this.useRouter) {\n            this.useRouter = !!document.querySelector('ion-router') && !this.el.closest('[no-router]');\n        }\n        this.tabs = Array.from(this.el.querySelectorAll('ion-tab'));\n        this.initSelect().then(() => {\n            this.ionNavWillLoad.emit();\n            this.componentWillUpdate();\n        });\n    }\n    componentDidUnload() {\n        this.tabs.length = 0;\n        this.selectedTab = this.leavingTab = undefined;\n    }\n    componentWillUpdate() {\n        const tabBar = this.el.querySelector('ion-tab-bar');\n        if (tabBar) {\n            const tab = this.selectedTab ? this.selectedTab.tab : undefined;\n            tabBar.selectedTab = tab;\n        }\n    }\n    /**\n     * Select a tab by the value of its `tab` property or an element reference.\n     *\n     * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.\n     */\n    async select(tab) {\n        const selectedTab = await this.getTab(tab);\n        if (!this.shouldSwitch(selectedTab)) {\n            return false;\n        }\n        await this.setActive(selectedTab);\n        await this.notifyRouter();\n        this.tabSwitch();\n        return true;\n    }\n    /**\n     * Get a specific tab by the value of its `tab` property or an element reference.\n     *\n     * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.\n     */\n    async getTab(tab) {\n        const tabEl = (typeof tab === 'string')\n            ? this.tabs.find(t => t.tab === tab)\n            : tab;\n        if (!tabEl) {\n            console.error(`tab with id: \"${tabEl}\" does not exist`);\n        }\n        return tabEl;\n    }\n    /**\n     * Get the currently selected tab.\n     */\n    getSelected() {\n        return Promise.resolve(this.selectedTab ? this.selectedTab.tab : undefined);\n    }\n    /** @internal */\n    async setRouteId(id) {\n        const selectedTab = await this.getTab(id);\n        if (!this.shouldSwitch(selectedTab)) {\n            return { changed: false, element: this.selectedTab };\n        }\n        await this.setActive(selectedTab);\n        return {\n            changed: true,\n            element: this.selectedTab,\n            markVisible: () => this.tabSwitch(),\n        };\n    }\n    /** @internal */\n    async getRouteId() {\n        const tabId = this.selectedTab && this.selectedTab.tab;\n        return tabId !== undefined ? { id: tabId, element: this.selectedTab } : undefined;\n    }\n    async initSelect() {\n        if (this.useRouter) {\n            return;\n        }\n        // wait for all tabs to be ready\n        await Promise.all(this.tabs.map(tab => tab.componentOnReady()));\n        await this.select(this.tabs[0]);\n    }\n    setActive(selectedTab) {\n        if (this.transitioning) {\n            return Promise.reject('transitioning already happening');\n        }\n        this.transitioning = true;\n        this.leavingTab = this.selectedTab;\n        this.selectedTab = selectedTab;\n        this.ionTabsWillChange.emit({ tab: selectedTab.tab });\n        return selectedTab.setActive();\n    }\n    tabSwitch() {\n        const selectedTab = this.selectedTab;\n        const leavingTab = this.leavingTab;\n        this.leavingTab = undefined;\n        this.transitioning = false;\n        if (!selectedTab) {\n            return;\n        }\n        if (leavingTab !== selectedTab) {\n            if (leavingTab) {\n                leavingTab.active = false;\n            }\n            this.ionTabsDidChange.emit({ tab: selectedTab.tab });\n        }\n    }\n    notifyRouter() {\n        if (this.useRouter) {\n            const router = document.querySelector('ion-router');\n            if (router) {\n                return router.navChanged('forward');\n            }\n        }\n        return Promise.resolve(false);\n    }\n    shouldSwitch(selectedTab) {\n        const leavingTab = this.selectedTab;\n        return selectedTab !== undefined && selectedTab !== leavingTab && !this.transitioning;\n    }\n    render() {\n        return (h(Host, { onIonTabButtonClick: this.onTabClicked }, h(\"slot\", { name: \"top\" }), h(\"div\", { class: \"tabs-inner\" }, h(\"slot\", null)), h(\"slot\", { name: \"bottom\" })));\n    }\n    get el() { return getElement(this); }\n    static get style() { return \":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;z-index:0}.tabs-inner,:host{contain:layout size style}.tabs-inner{position:relative;-ms-flex:1;flex:1}\"; }\n}\n\nexport { Tab as ion_tab, Tabs as ion_tabs };\n"]}